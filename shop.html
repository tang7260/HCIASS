<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<link rel="stylesheet" href="css/bootstrap-v4.0.0-alpha.4.min.css" />
<link href="css/animate.min.css" rel="stylesheet" />

<link rel="stylesheet" href="http://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css" />
<link rel="stylesheet" href="css/styles.css" />
<link rel="stylesheet" href="css/slider.css" />
<link rel="stylesheet" href="css/shop.css">

<style>
/*
    ::-webkit-scrollbar {
        width: 10px;
    }
    
    ::-webkit-scrollbar-track {
        background-color: #cfd3df;
        border-radius: 10px;
    }
    
    ::-webkit-scrollbar-thumb {
        border-radius: 10px;
        background-color: #343642;
    }
*/
</style>
<script src="js/jquery-3.1.1.min.js"></script>
<script src="js/tether.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/jquery-ui.min.js"></script>
<script src="js/jquery.easing.min.js"></script>
<script src="js/wow.js"></script>
<script src="js/scripts.js"></script>
<script src="js/js.cookie.js"></script>

<body>
    <nav id="topNav" class="navbar navbar-default navbar-fixed-top">
        <div class="container">
            <button class="navbar-toggler hidden-md-up pull-right" type="button" data-toggle="collapse" data-target="#collapsingNavbar"> â˜° </button> <a style="font-size: 20px;" class="navbar-brand page-scroll" href="index.html#first">Fri-dayoff</a>
            <div class="collapse navbar-toggleable-sm" id="collapsingNavbar">
                <ul class="nav navbar-nav">
                    <li class="nav-item"> <a style=" font-size: 13px;" id="li1" class="nav-link page-scroll" href="shop.html">Shop</a> </li>
                    <li class="nav-item"> <a style=" font-size: 13px;" id="li2" class="nav-link page-scroll" href="index.html#two">IVE Exclusive offers</a></li>
                    <li class="nav-item"> <a style=" font-size: 13px;" id="li3" class="nav-link page-scroll" href="index.html#three">About</a> </li>
                    <li class="nav-item"> <a style="font-size: 13px;" id="li4" class="nav-link page-scroll" href="index.html#four">CONTACT US</a> </li>
                </ul>
                <ul class="nav navbar-nav pull-xs-right">
                    <li class="nav-item"> <a style="font-size: 15px; color:#07bc00;" class="nav-link page-scroll" href="signin.html?action=signup">Sign Up</a></li>
                    <li class="nav-item"> <a style="font-size: 15px; " class="nav-link page-scroll" href="signin.html">Sign In</a></li>
                    <li class="nav-item" id="shopping-cart"> <a style="font-size: 20px;"><i style="font-size:40px; color:crimson;" class="ion-ios-cart wow fadeIn"></i><span></span></a></li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container" style="margin-top: 120px;" id="showitem">

     
    </div>


</body>
<script>
    $(document).ready(function () {
        $.ajax({
            type: 'POST',
            url: "product.json",
            dataType: 'json',
            success: function (result) {
                tableString = "";
                i=0;
                $.each(result, function (row, value) {
                    
                    tableString += "<figure class=\"snip1268\">\n" +
                        "        <div class=\"image\">\n" +
                        "            <img src=\"" + value.img + "\" alt=\"sq-sample15\"/>\n" +
                        "            <a href=\"#\" class=\"add-to-cart\" onclick=\"goShoppingCart($(this))\">Add to Cart</a>\n" +
                        "            <input class=\"itemId\" type=\"text\" value=\"" + value.id + "\" hidden>\n" +
                        "        </div>\n" +
                        "        <figcaption>\n" +
                        "            <h2>" + value.name + "</h2>\n" +
                        "            <p>" + value.description + "</p>\n" +
                        "            <div class=\"price\">$" + value.price + " </div>\n" +
                        "        </figcaption>\n" +
                        "    </figure>\n";
                    console.log(tableString);
                    
                   
                });
                $("#showitem").append(tableString);
            }
        });
    });
    
    $('#li1').hover(function () {
        $('#li1').css("color", "#0031ff");
    }, function () {
        $('#li1').css("color", "black");
    });

    $('#li2').hover(function () {
        $('#li2').css("color", "#d800ff");
    }, function () {
        $('#li2').css("color", "black");
    });

    $('#li3').hover(function () {
        $('#li3').css("color", "#ff0000");
    }, function () {
        $('#li3').css("color", "black");
    });

    $('#li4').hover(function () {
        $('#li4').css("color", "#ff9300");
    }, function () {
        $('#li4').css("color", "black");
    });

//    $('.add-to-cart').on('click', function () {
//        var shoppingCart;
//        var getid = $(this).parent('.image').find('.itemId').val();
//        console.log(getid);
//        if (typeof Cookies.get('shoppingCart') == 'undefined'){
//            shoppingCart = [getid];
//            
//        }else{
//            var added = false;
//            var oldShoppingCart = Cookies.getJSON('shoppingCart');
//            for (i = 0; i < oldShoppingCart.length; i++) {
//                
//                            if (oldShoppingCart[i] == getid) {
//                                console.log(oldShoppingCart[i]);
//                                shoppingCart = oldShoppingCart;
//                                added = true;
//                                break;
//                            } 
//                        }if(!added){
//                            oldShoppingCart.push(getid);
//                            shoppingCart = oldShoppingCart;
//                        }
//            
//        }
//        Cookies.set('shoppingCart',shoppingCart);
////        
//        
//        var cart = $('#shopping-cart');
//        var imgtodrag = $(this).parent('.image').find("img").eq(0);
//
//        if (imgtodrag) {
//            var imgclone = imgtodrag.clone()
//                .offset({
//                    top: imgtodrag.offset().top,
//                    left: imgtodrag.offset().left
//                })
//                .css({
//                    'opacity': '0.5',
//                    'position': 'absolute',
//                    'height': '150px',
//                    'width': '150px',
//                    'z-index': '100'
//                })
//                .appendTo($('body'))
//                .animate({
//                    'top': cart.offset().top + 10,
//                    'left': cart.offset().left + 10,
//                    'width': 75,
//                    'height': 75
//                }, 1000, 'easeInOutExpo');
//
//            setTimeout(function () {
//                cart.effect("shake", {
//                    times: 3
//                }, 200);
//            }, 1200);
//
//            imgclone.animate({
//                'width': 0,
//                'height': 0
//            }, function () {
//                $(this).detach()
//            });
//        }
//    });
    
    var goShoppingCart = function (element) {
        var shoppingCart;
        var getid = element.parent('.image').find('.itemId').val();
        console.log(getid);
        if (typeof Cookies.get('shoppingCart') == 'undefined'){
            shoppingCart = [getid];
            
        }else{
            var added = false;
            var oldShoppingCart = Cookies.getJSON('shoppingCart');
            for (i = 0; i < oldShoppingCart.length; i++) {
                
                            if (oldShoppingCart[i] == getid) {
                                console.log(oldShoppingCart[i]);
                                shoppingCart = oldShoppingCart;
                                added = true;
                                break;
                            } 
                        }if(!added){
                            oldShoppingCart.push(getid);
                            shoppingCart = oldShoppingCart;
                        }
            
        }
        Cookies.set('shoppingCart',shoppingCart);
//        
        
        var cart = $('#shopping-cart');
        var imgtodrag = element.parent('.image').find("img").eq(0);

        if (imgtodrag) {
            var imgclone = imgtodrag.clone()
                .offset({
                    top: imgtodrag.offset().top,
                    left: imgtodrag.offset().left
                })
                .css({
                    'opacity': '0.5',
                    'position': 'absolute',
                    'height': '150px',
                    'width': '150px',
                    'z-index': '100'
                })
                .appendTo($('body'))
                .animate({
                    'top': cart.offset().top + 10,
                    'left': cart.offset().left + 10,
                    'width': 75,
                    'height': 75
                }, 1000, 'easeInOutExpo');

            setTimeout(function () {
                cart.effect("shake", {
                    times: 3
                }, 200);
            }, 1200);

            imgclone.animate({
                'width': 0,
                'height': 0
            }, function () {
                $(this).detach()
            });
        }
    }
</script>

</html>